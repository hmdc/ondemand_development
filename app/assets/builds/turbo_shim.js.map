{
  "version": 3,
  "sources": ["../../javascript/turbo_shim.js"],
  "sourcesContent": ["\n/*\n  While we want Turbo enabled at some point,\n  it doesn't really work well yet. So, we'll provide\n  this shim until we enable it.\n*/\n\nexport function replaceHTML(id, html) {\n  const ele = document.getElementById(id);\n\n  if(ele == null){\n    return;\n  } else {\n    var tmp = document.createElement('div');\n    tmp.innerHTML = html;\n    const newHTML = tmp.querySelector('template').innerHTML;\n    tmp.remove();\n\n    ele.innerHTML = newHTML;\n  }\n}\n\nexport function pollAndReplace(url, delay, id, callback) {\n  fetch(url, { headers: { Accept: \"text/vnd.turbo-stream.html\" } })\n    .then(response => response.ok ? Promise.resolve(response) : Promise.reject(response.text()))\n    .then((r) => r.text())\n    .then((html) => replaceHTML(id, html))\n    .then(() => {\n      setTimeout(pollAndReplace, delay, url, delay, id, callback);\n      if (typeof callback == 'function') {\n        callback();\n      }\n    })\n    .catch((err) => {\n      console.log('Cannot retrieve partial due to error:');\n      console.log(err);\n    });\n}\n"],
  "mappings": ";AAOO,SAAS,YAAY,IAAI,MAAM;AACpC,QAAM,MAAM,SAAS,eAAe,EAAE;AAEtC,MAAG,OAAO,MAAK;AACb;AAAA,EACF,OAAO;AACL,QAAI,MAAM,SAAS,cAAc,KAAK;AACtC,QAAI,YAAY;AAChB,UAAM,UAAU,IAAI,cAAc,UAAU,EAAE;AAC9C,QAAI,OAAO;AAEX,QAAI,YAAY;AAAA,EAClB;AACF;AAEO,SAAS,eAAe,KAAK,OAAO,IAAI,UAAU;AACvD,QAAM,KAAK,EAAE,SAAS,EAAE,QAAQ,6BAA6B,EAAE,CAAC,EAC7D,KAAK,cAAY,SAAS,KAAK,QAAQ,QAAQ,QAAQ,IAAI,QAAQ,OAAO,SAAS,KAAK,CAAC,CAAC,EAC1F,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,EACpB,KAAK,CAAC,SAAS,YAAY,IAAI,IAAI,CAAC,EACpC,KAAK,MAAM;AACV,eAAW,gBAAgB,OAAO,KAAK,OAAO,IAAI,QAAQ;AAC1D,QAAI,OAAO,YAAY,YAAY;AACjC,eAAS;AAAA,IACX;AAAA,EACF,CAAC,EACA,MAAM,CAAC,QAAQ;AACd,YAAQ,IAAI,uCAAuC;AACnD,YAAQ,IAAI,GAAG;AAAA,EACjB,CAAC;AACL;",
  "names": []
}
